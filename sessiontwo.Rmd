---
title: "Intro to R - Session Two"
output:
 html_document: 
    theme: united
    highlight: tango
    toc: yes
    toc_float: yes
    number_sections: true
---
```{r, echo=FALSE}
htmltools::img(src = knitr::image_uri("./Images/LATree.PNG"),
               alt = 'logo', 
               style = 'position:absolute; top:0; right:0; padding:10px; width:200px;')
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Session Two

***

## Learning Objectives
**The goal of this session is to:**


* Be familliar with data structures in R.
* Be able to create vectors to store data.
* Be able to select elements from vectors.
* Understand how vectors operate.
* Be familiar with data frames and tibbles.


***

## Data Structures.
We dont work with single data values, we often work with a combination or collection of data.

R organises these in certain structures.

R stores this data so that that we manipulate and work with it.

Some of R data structures are:

- **Vector**

- **Matrix**

- **List**

- **Data Frame**

***
### Examples of Data Structures {.tabset .tabset-fade .tabset-pills}

#### **Vector**{-}
A vector is a one dimensional set of data whose elements are all of the same type.

The `c()` notation is very important.

R comes with some built in vectors, you can find what they are by typeing the code below;

**letters**


**month.name**

```{r}
Numerical_Vector <- c(1,2,3,4,5,6,7,8,9,10)

Logical_Vector <- c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)

Character_Vector <- c("Cardiff", "Newport", "Bristol")


```


#### **Matrix**{-}

A matrix structure is a two dimensional set of data, whose elements are all the same data type.

In other words, a matrix is a combination of one or more vectors with the same data type.

```{r echo=FALSE}

my_matrix <- matrix (c(3:14), nrow = 4, byrow = TRUE)

my_matrix

```

#### **List**{-}

A list is a one dimensional set of data, each element can have different types.

```{r echo=TRUE}

my_first_list <- list(1,2,3,4, "two")

my_second_list <- list("ONS", 10, TRUE)

my_first_list

my_second_list


```


#### **Data Frame**{-}
A data frame is a two dimensional collection of rows and columns of data, where rows are observations, and columns are variables. Also, unlike a matrix, column data types are independent, they do not all need to be the same data type.

R has many of inbult data frames which can access by typing **data()**


```{r paged.print=TRUE}

mtcars


```


***
## Vectors

* All elements in a vector must have the same data type, such as numeric, character or logical.
* They are created using the  `c()` function, which stands for combine.
* Elements within the vector are separated by `commas`.

You will be dealing a lot with vectors so we will go through some exercises on how to operate with them.

In the previous section we looked at data types, where we said;

```{r}

a <- 10

```
Suppose you wanted to store more than one value than 10. e.g values between 10-50

```{r, eval=FALSE}

a <- 10, 20, 30, 40, 50

a <- (10, 20, 30,40,50)


```

### The c() Function {.tabset .tabset-fade}

The code above will not work, which is where the c() funtion comes in. 

#### **Question** {-}

Use the help section in R to find out what the c() function does.

```{r, eval=F}

c()

```

#### **Show Answer** {-}

The c() function is used for creating a vector in R.

```{r}

?c()

#or

help(c)

```


### Creating Vectors {.tabset .tabset-fade}

There are several other ways of creating a vector:

You can create a vector by using the the **assignment operator**
or you can use the sequence function **seq().**

We can also use the **colon** to create a vector of consecutive numbers.

```{r}

sample_vector <- c(1,2,3,4,5)

sample_vector

sequence_vector <- seq(2,6, by=2)

sequence_vector

colon_vector <- 6:10

colon_vector

```
#### **Question**{-}

In your script leave yourself a comment to remind you that this exercise is about vectors.

Create 2 vectors, one with numerics and one with characters, e.g favourite_movies and lucky_numbers. `(Feel free to be creative here)`

Now combine the 2 vectors to create a new vector.

Then find out what type of vector your new vector is.

```{r, eval=FALSE}

favourite_movies <- c("Frozen", "The Lion King", "The Godfather" "Moana", "The Dark Night", "sharknado") 
  
lucky_numbers <- c(7, 12, 15, 1, 11)   

```

#### **Show Answer**{-}

We can see below that our new vector is a character vector, as vectors are supposed to be of the same data type, R will automatically convert the data of the 2 vectors to be the same, this is known as **coercion.**

```{r}
#This exercise is about vectors

favourite_movies <- c("Frozen", "The Lion King", "The Godfather", "Moana", "The Dark Night", "sharknado")  
  
lucky_numbers <- c(7, 12, 15, 1, 11)     

movies_and_numbers <- c(favourite_movies, lucky_numbers)

typeof(movies_and_numbers)

```


## Vector Operations {.tabset .tabset-fade}

We know that vectors in R are a collection of data, this means that we can perform arithmetic operations on them such as addition, subtraction and multiplication.

R is a vectorised language, this means operations are applied to each element of the vector simultaneously, without the need to loop through the vector.

This enables us to perfom calculations much faster.



```{r}

sample_vector

colon_vector

vector_addition <- sample_vector + colon_vector

vector_addition

vector_multiplication <- sample_vector * colon_vector

vector_multiplication

```

### **Question**{-}

Try and add sample_vector and sequence_vector.

Can you figure out what has happened?


```{r, eval=FALSE}

vector_after_addition <- sample_vector + sequence_vector

vector_after_addition  

```

### **Show Answer**{-}

When we try to add vectors of different length the R gives a warning message as the longer object length is not a multiple of the shorter object length.

As we can see R has recycled the elements in the shorter vector.

When applying arithmetic to two vectors their lengths must be either equal, or the length of the longer one must be a multiple of the shorter one.


```{r}
vector_after_addition <- sample_vector + sequence_vector

vector_after_addition  
   
```
## Accessing Vectors {.tabset .tabset-fade}


Elements in a vector can be selected using `[ ]`, this is called slicing. We are going to use indexes, which are the position of each element within the vector. 

Note that R indexes from 1 (not 0 like other languages).

As an example, going back to my favourite movies, to pick the second item in the list, I would simply, use the square bracketS and reference **2** as shown below.

You can select a number of consecutive elements in a list by putting a `:` between the two indexes that mark the end and beginning of idexes you want.

You can also use a vector of indexes to return the specific position of elements in the vector you need. 

```{r}

favourite_movies[2] 


```



### **Question**{-}

Create another vector containing days of the week (Monday - Sunday).

Select the third day of the week.

Select the week days.

Select Tuesday and Thursday.

```{r, eval=FALSE}

days_of_the_week <- 
  

```

### **Show Answer**{-}


```{r}
days_of_the_week <- c("Monday","Tuesday",
                      "Wednesday","Thursday",
                      "Friday","Saturday",
                      "Sunday")


# 3rd day
days_of_the_week[3]


# week days
days_of_the_week[1:5]

#Tuesday and Thursday

days_of_the_week[c(2,4)] 
  # Here we create a selection 
  # vector inside the [].
```

***

## Data Frames and Tibbles {.tabset .tabset-fade .tabset-pills}

Data frames are like the tables we are used to from Excel and other programs.

* Can hold variables of different types
* Columns are variables 
* Rows are observations

In the next session we are going to use special type of data frame called a **tibble.**

They are becoming a standard way to work with data, they are very useful when working with large data sets.
 
**The key benefits of tibbles are;**

* The class of each column is displayed above it.

* The dimensions of the tibble are shown at the top.

* Prints the first 10 rows by default.

* You can only view columns that fit on the screen.


### Tibble {-}

for more information type `vignette("tibble")` in your script.

```{r}

library(tibble)

as_tibble(iris)


```

### Data Frame {-}
```{r} 

iris
  
```

## Creating Tibbles

We can create tibbles manually using the `tibble()` function. Alternatively `data.frame()` will create a data frame. Each vector inputted to the function will become a column.

```{r}

chocolate_bar <- c("turkish Delight", "milky way", "bounty", "toblerone", "mars", "snickers", "fudge") 

rating <- c("worst", "decent", "terrible", "awful", "nice", "okay", "best")

tibble(chocolate_bar, rating)


```


## Summary.

You should now:

* Be able to create a vector.
* Be able to select items within a vector.
* Be able to understand how vectors operate in terms of vector arithmetic.
* Be familliar with data structures in R.
* Understand how vectors operate.
* Be familiar with data frames and tibbles.

