---
title: "Intro to R - Session Two"
output:
 html_document: 
    theme: united
    highlight: tango
    toc: yes
    toc_float: yes
    number_sections: true
---
```{r, echo=FALSE}
htmltools::img(src = knitr::image_uri("./Images/LATree.PNG"),
               alt = 'logo', 
               style = 'position:absolute; top:0; right:0; padding:10px; width:200px;')
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Session Two.

***

## Learning Objectives
**The goal of this session is to:**


* Be familliar with data structures in R.
* Be able to create vectors to store data.
* Be able to select elements from vectors.
* Understand how Vectors Operate.
* Be familiar with data frames and tibbles.


***

## Data Structures.
We dont work with single data values, we often work with a combination or collection of data.

R organises these in certain structures.

This is how R stores data in a way that we manipulate and work with it.

Some of R data structures are:

- **Vector**

- **Matrix**

- **List**

- **Dataframe**

***
### Examples of Data Structures {.tabset .tabset-fade .tabset-pills}

#### **Vector**{-}
One dimension set of  data of the same type.

The `c()` is very important.

Some in-built vectors, type code below;

**letters**


**month.name**

```{r}
Numerical_Vector <- c(1,2,3,4,5,6,7,8,9,10)

Logical_Vector <- c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE)

Character_Vector <- c("Cardiff", "Newport", "Bristol")


```


#### **Matrix**{-}

Two dimensional set of data of the same type.

In other words, matrix is a combination of two or more vectors with the same data type.

```{r echo=FALSE}

my_matrix <- matrix (c(3:14), nrow = 4, byrow = TRUE)

my_matrix

```

#### **List**{-}

One dimension set of data, of different types.

```{r echo=TRUE}

my_first_list <- list(1,2,3,4, "two")

my_second_list <- list("ONS", 10, TRUE)

my_first_list

my_second_list


```


#### **Dataframe**{-}
Itâ€™s a two dimensiona collection of rows and columns of data, where rows are observations, and columns are variables. Also that unlike a Matrix, column data types are independent, each one can be anything.

R has lots of inbult dataframes you can access by typing **data()**


```{r paged.print=TRUE}

mtcars


```


***
## Vectors

* All elements in a vector must have the same type/class.
* They are created using the  `c()` function, which stands for combine.
* Elements within the vector are separated by `commas`.

You will be dealing a lot with vectors so we will go through some exercises on how to operate with them.

In the previous section we looked at data types, where we said;

```{r}

a <- 10

```
Suppose you wanted to store more than one value for 10. e.g values between 10-50

```{r, eval=FALSE}

a <- 10, 20, 30, 40, 50

a <- (10, 20, 30,40,50)


```

### The c() Function {.tabset .tabset-fade}

The code above will not work, which is where the c() funtion comes in. 

#### **Question** {-}

Use the help section in R to find out what the c() function does.

```{r, eval=F}

c()

```

#### **Show Answer** {-}

The c() function is used for creating a vector in R.

```{r}

?c()

#or

help(c)

```


### Creating Vectors {.tabset .tabset-fade}

There are several other ways of creating a vector:

You can create a vector by using the the **assignement operator**
or you can use the sequence function **seq().**

We can also use the **colon** to create a vector of consecutive numbers.

```{r}

sample_vector <- c(1,2,3,4,5)

sample_vector

sequence_vector <- seq(2,6, by=2)

sequence_vector

colon_vector <- 6:10

colon_vector

```
#### **Question**{-}

In your script leave yourself a comment to remind that this exercise is about vectors.

Create 2 vectors, one numeric and one character, e.g favourate_movies and lucky_numbers. `(Feel free to be creative here)`

Now combine the 2 vectors to create a new vector.

Find out what kind of vector your new vector is.

```{r, eval=FALSE}

favourate_movies <- c("Frozen", "The Lion King", "The Godfather" "Moana", "The Dark Night", "sharknado") 
  
lucky_numbers <- c(7, 12, 15, 1, 11)   

```

#### **Show Answer**{-}

We can see below that our new vector is a character vector, as vectors are supposed to be of the same data type, R will convert the data of the 2 vectors to be the same, this is known as **coercion.**

```{r}
#This exercise is about vectors

favourate_movies <- c("Frozen", "The Lion King", "The Godfather", "Moana", "The Dark Night", "sharknado")  
  
lucky_numbers <- c(7, 12, 15, 1, 11)     

movies_and_numbers <- c(favourate_movies,lucky_numbers)

typeof(movies_and_numbers)

```


## Vector Operations {.tabset .tabset-fade}

As we know vector in R is a data element so we can perform arithmetic operations on vector in R such as addition, subtraction and multiplication.

As R is a vectorised language, this means operations are applied to each element of the vector automatically, without the need to loop through the vector.

This enables us to perfom calculations much faster.

```{r}

sample_vector

colon_vector

vector_addition <- sample_vector + colon_vector

vector_addition

vector_multiplication <- sample_vector * colon_vector

vector_multiplication

```

### **Question**{-}

Try and add sample_vector and sequence_vector.

Can you figure out what has happened?


```{r, eval=FALSE}

vector_after_addition <- sample_vector + sequence_vector

vector_after_addition  

```

### **Show Answer**{-}

When we try to add vectors of different length the R gives a warning message as the longer object length is not a multiple of the shorter object length.

As we can see R has recycled the elements in the shorter vector.


```{r}
vector_after_addition <- sample_vector + sequence_vector

vector_after_addition  
   
```
## Accessing Vectors {.tabset .tabset-fade}


Elements in a vector can be selected using `[ ]`.

Note that R indexes from 1 (not 0 like other languages).

As an example, going back to my favourate movies, to pick the second item in the list, I would simply, use the square bracketS and reference **2** as shown below.

```{r}

favourate_movies[2] 


```



### **Question**{-}

Create another vector containing days of the week (Monday - Sunday).

Select the third day of the week.

Select the week days.

Select Tuesday and Thursday.

```{r, eval=FALSE}

days_of_the_week <- 
  

```

### **Show Answer**{-}


```{r}
days_of_the_week <- c("Monday","Tuesday",
                      "Wednesday","Thursday",
                      "Friday","Saturday",
                      "Sunday")


# 3rd day
days_of_the_week[3]


# week days
days_of_the_week[1:5]

#Tuesday and Thursday

days_of_the_week[c(2,4)] 
  # Here we create a selection 
  # vector inside the [].
```

***

## Data Frames and Tibbles {.tabset .tabset-fade .tabset-pills}

Data frames are like the tables we are used to from Excel and other programs.

* Can hold variables of different types
* Columns are variables 
* Rows are observations

In the next session we are going to use special type of data frames called **tibbles.**

They are becoming a standard way to work with data, they are very useful when working with large data sets.
 
**The key benefits of tibbles are;**

* The class of each column is displayed above it.

* The dimensions of the tibble are shown at the top.

* Prints the first 10 rows by default.

* You can only view columns that fit on the screen.


### Tibble {-}

for more information type `vignette("tibble")` in your script.

```{r}

library(tibble)

as_tibble(iris)


```

### Data Frame {-}
```{r} 

iris
  
```

## Creating Tibbles

We can create them manually using the `tibble` function. Alternatively `data.frame` will create a dataframe.

```{r}

chocolate_bar <- c("turkish Delight", "milky way", "bounty", "toblerone", "mars", "snickers", "fudge") 

rating <- c("best", "decent", "terrible", "awful", "nice", "okay", "worst")

tibble(chocolate_bar, rating)


```


## Summary.

You should now;

* Be able to create a vector.
* Be able to select items within a vector.
* Be able to understand how vectors operate in terms of vector arithmetic.
* Be familliar with data structures in R.
* Understand how Vectors Operate.
* Be familiar with data frames and tibbles.

